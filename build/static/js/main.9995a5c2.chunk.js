(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,n){e.exports=n(287)},163:function(e,t,n){},285:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(35),c=n.n(r),s=n(18),i=n(19),u=n(31),l=n(20),p=n(32),m=n(293),b=n(33),h=n(128),f=n(21),d=n(129),g=n(106),O=n(130),v=n.n(O),E={user:{},albums:[],photos:[]},j=Object(f.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER":return Object.assign({},e,{user:t.payload});case"SAVE_USER_ALBUMS":return Object.assign({},e,{albums:t.payload});case"SAVE_ALBUM_PHOTOS":return Object.assign({},e,{photos:t.payload});default:return e}}}),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,k={key:"root",storage:v.a},w=Object(g.a)(k,j),S=Object(f.e)(w,y(Object(f.a)(d.a))),_=Object(g.b)(S),A=n(298),U=n(300),B=n(292),C=n(296),F=n(299),I=n(131),x=n.n(I),N=function(e){return console.log("user are ",e),{type:"SAVE_USER",payload:e}},L=function(){return function(e){window.FB.api("/me","GET",{fields:"id,name,albums{id,name,description,cover_photo,picture{url,height,cache_key,is_silhouette,width},photos{album,images,picture}}"},function(t){var n=t.albums;console.log("response is ",JSON.stringify(n)),e(function(e){return console.log("user albums are ",e),{type:"SAVE_USER_ALBUMS",payload:e}}(n.data))})}},P=function(e){return function(t,n){n().user.albums.map(function(n,a){if(n.id==e){console.log("album is ",n);var o=n.photos;t(function(e){return console.log("album photos are ",JSON.stringify(e)),{type:"SAVE_ALBUM_PHOTOS",payload:e}}(o?o.data:[])),console.log("photos is ..  ",o)}})}},M=(n(163),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).responseFacebook=function(e){console.log("response from fb is ",JSON.stringify(e)),e.accessToken&&(n.props.saveUser(e),n.props.getUserAlbums(),n.props.history.push("/me/albums"))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.user?o.a.createElement(C.a,{to:"/me/albums"}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"login"},o.a.createElement(x.a,{appId:"386989675183136",autoLoad:!0,scope:"public_profile,email,user_friends,user_photos",fields:"name,email,picture.height(2048)",cssClass:"ui facebook button",callback:this.responseFacebook})))}}]),t}(a.Component)),T=Object(F.a)(Object(b.b)(function(e){return{}},function(e){return{getUserAlbums:function(t){return e(L())},saveUser:function(t){return e(N(t))}}})(M)),V=n(297),J=n(288),R=n(295),D=n(294),G=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).logout=function(){console.log("function called ... "),n.props.saveUser({}),window.FB.logout(),n.props.history.push("/")},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.fbAsyncInit=function(){window.FB.init({appId:"386989675183136",cookie:!0,xfbml:!0,version:"v2.1"}),window.FB.getLoginStatus(function(e){this.props.getUserAlbums()}.bind(this))}.bind(this),function(e,t,n){var a,o=e.getElementsByTagName(t)[0];e.getElementById(n)||((a=e.createElement(t)).id=n,a.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk")}},{key:"getPhotos",value:function(e){this.props.history.push("/me/albums/".concat(e.id))}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.albums;return n?o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,{as:"h2"},o.a.createElement(J.a,{src:n.picture.data.url}),"  ",n.name,o.a.createElement(R.a,{basic:!0,color:"blue",content:"Log out",floated:"right",onClick:this.logout})),o.a.createElement(D.a.Group,null,a&&a.length>0?a.map(function(t,n){var a=t.name,r=t.picture;return o.a.createElement(D.a,{key:n,image:r.data.url,header:a,meta:"Album",onClick:e.getPhotos.bind(e,t)})}):null)):o.a.createElement(C.a,{to:"/"})}}]),t}(a.Component),H=Object(F.a)(Object(b.b)(function(e){return{user:e.user.user,albums:e.user.albums}},function(e){return{saveUser:function(t){return e(N(t))},getUserAlbums:function(t){return e(L())}}})(G)),z=n(142),W=n.n(z),X=(n(283),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={visible:!1,activeIndex:0},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;console.log("params are .. ",e),this.props.getUserPhotosByAlbum(e.id)}},{key:"render",value:function(){var e=this,t=this.props.photos,n=this.state,a=n.activeIndex,r=n.visible;console.log("photos are .. ",t);var c=[];return t.length>0&&(c=t.map(function(e,t){return{src:e.images[0].source,alt:e.picture}})),o.a.createElement(o.a.Fragment,null,o.a.createElement(J.a.Group,{size:"small"},t&&t.length>0?t.map(function(t,n){var a=t.picture;return o.a.createElement(J.a,{src:a,onClick:function(){e.setState({visible:!r,activeIndex:n})}})}):null),o.a.createElement(W.a,{visible:r,onClose:function(){e.setState({visible:!1})},images:c,activeIndex:a,rotatable:!1,scalable:!1,downloadable:!1,drag:!1,zoomable:!1,attribute:!1}))}}]),t}(a.Component)),$=Object(b.b)(function(e){return{photos:e.user.photos}},function(e){return{getUserPhotosByAlbum:function(t){return e(P(t))}}})(X),q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},"Page not found",o.a.createElement("button",{onClick:function(){return e.props.history.push("/")}},"Go to Home"))}}]),t}(a.Component),K=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(A.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,null,o.a.createElement(B.a,{exact:!0,path:"/",component:T}),o.a.createElement(B.a,{path:"/me/albums",component:H,exact:!0}),o.a.createElement(B.a,{path:"/me/albums/:id",component:$,exact:!0}),o.a.createElement(B.a,{component:q}))))}}]),t}(o.a.Component),Q=(n(285),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null,o.a.createElement(b.a,{store:S},o.a.createElement(h.a,{loading:null,persistor:_},o.a.createElement(K,null)))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,2,1]]]);
//# sourceMappingURL=main.9995a5c2.chunk.js.map